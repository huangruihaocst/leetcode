# 128. Longest Consecutive Sequence

## Solution

### 方法一

用一个字典`d`记录，`d[i]`表示含有`i`的最长连续序列。

遍历数组，当遍历到`i`的时候，
- 如果`d[i]`有值，意味着访问过`i`了，可以忽略它。
- 如果没有值，则更新`d[i]`为`d[i - 1] + d[i + 1] + 1`，并且只更新它本身，
和这个序列最左端和最右端的两个值，也即`d[i - d[i - 1]]`和`d[i + d[i + 1]]`。

每次更新的时候记录当前最大值。

复杂度为`O(n)`，`n`为数组长度。只有只更新序列最左右两个值这么做才能到`O(n)`，否则是`O(n ^ 2)`。
而这么做的正确性是由如果`d[i]`有值，意味着访问过`i`了，可以忽略它保证的。

### 方法二

利用集合`set`判断存在性的复杂度是`O(1)`。

首先把数组变成一个集合。然后遍历这个集合，找到某序列中的最小值，也即这个数减一不在集合中。
然后不停加一直到不在集合中，数这其中数了多少个数。

复杂度为`O(n)`。